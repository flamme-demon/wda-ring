{"version":3,"file":"assets/js/ring.js","mappings":"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","sources":["webpack://wazo-wda-ring-fmw/./node_modules/events/events.js","webpack://wazo-wda-ring-fmw/webpack/bootstrap","webpack://wazo-wda-ring-fmw/webpack/runtime/compat get default export","webpack://wazo-wda-ring-fmw/webpack/runtime/define property getters","webpack://wazo-wda-ring-fmw/webpack/runtime/global","webpack://wazo-wda-ring-fmw/webpack/runtime/hasOwnProperty shorthand","webpack://wazo-wda-ring-fmw/webpack/runtime/publicPath","webpack://wazo-wda-ring-fmw/./node_modules/@wazo/euc-plugins-sdk/lib/esm/constants.js","webpack://wazo-wda-ring-fmw/./node_modules/@wazo/euc-plugins-sdk/lib/esm/app.js","webpack://wazo-wda-ring-fmw/./node_modules/@wazo/euc-plugins-sdk/lib/esm/softphone.js","webpack://wazo-wda-ring-fmw/./node_modules/i18next/dist/esm/i18next.js","webpack://wazo-wda-ring-fmw/./src/assets/js/ring.js"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../../\";","// Global\nexport const EVENT_ON_LOADED = 'wazo/ON_LOADED';\nexport const EVENT_APP_UNLOADED = 'wazo/EVENT_APP_UNLOADED';\nexport const EVENT_PLUGIN_UNLOADED = 'wazo/EVENT_PLUGIN_UNLOADED';\nexport const EVENT_APP_INITIALIZE = 'wazo/EVENT_APP_INITIALIZE';\nexport const EVENT_ON_LOGOUT = 'wazo/EVENT_ON_LOGOUT';\nexport const EVENT_SEND_IFRAME_MESSAGE = 'wazo/EVENT_SEND_IFRAME_MESSAGE';\nexport const EVENT_SEND_BACKGROUND_MESSAGE = 'wazo/EVENT_SEND_BACKGROUND_MESSAGE';\nexport const EVENT_ON_IFRAME_MESSAGE = 'wazo/EVENT_ON_IFRAME_MESSAGE';\nexport const EVENT_ON_BACKGROUND_MESSAGE = 'wazo/EVENT_ON_BACKGROUND_MESSAGE';\n// WDA\nexport const EVENT_CLOSE_LEFT_PANEL = 'wazo/EVENT_CLOSE_LEFT_PANEL';\nexport const EVENT_OPEN_LEFT_PANEL = 'wazo/EVENT_OPEN_LEFT_PANEL';\nexport const EVENT_START_CALL = 'wazo/START_CALL';\nexport const EVENT_ON_CALL_INCOMING = 'wazo/EVENT_ON_CALL_INCOMING';\nexport const EVENT_ON_CALL_MADE = 'wazo/EVENT_ON_CALL_MADE';\nexport const EVENT_ON_CALL_ANSWERED = 'wazo/EVENT_ON_CALL_ANSWERED';\nexport const EVENT_ON_CALL_ACCEPTED = 'wazo/EVENT_ON_CALL_ACCEPTED';\nexport const EVENT_ON_CALL_HUNG_UP = 'wazo/EVENT_ON_CALL_HUNG_UP';\nexport const EVENT_OPEN_LINK = 'wazo/EVENT_OPEN_LINK';\nexport const EVENT_CREATE_MEETING = 'wazo/EVENT_CREATE_MEETING';\nexport const EVENT_OPEN_MEETING_LOBBY = 'wazo/EVENT_OPEN_MEETING_LOBBY';\nexport const EVENT_OPEN_SETTINGS = 'wazo/EVENT_OPEN_SETTINGS';\nexport const EVENT_ON_MEETING_CREATED = 'wazo/EVENT_ON_MEETING_CREATED';\nexport const EVENT_ROUTE_CHANGE = 'wazo/EVENT_ROUTE_CHANGE';\nexport const EVENT_WS_MESSAGE = 'wazo/EVENT_WS_MESSAGE';\nexport const EVENT_PLAY_PROGRESS_SOUND = 'wazo/EVENT_PLAY_PROGRESS_SOUND';\nexport const EVENT_PLAY_NEW_MESSAGE_SOUND = 'wazo/EVENT_PLAY_NEW_MESSAGE_SOUND';\nexport const EVENT_PLAY_INCOMING_CALL_SOUND = 'wazo/EVENT_PLAY_INCOMING_CALL_SOUND';\nexport const EVENT_PLAY_DOUBLE_CALL_SOUND = 'wazo/EVENT_PLAY_DOUBLE_CALL_SOUND';\nexport const EVENT_PLAY_HANGUP_SOUND = 'wazo/EVENT_PLAY_HANGUP_SOUND';\nexport const EVENT_STOP_CURRENT_SOUND = 'wazo/EVENT_STOP_CURRENT_SOUND';\nexport const EVENT_CONFIGURE_SOUNDS = 'wazo/EVENT_CONFIGURE_SOUNDS';\nexport const EVENT_RESET_SOUNDS = 'wazo/EVENT_RESET_SOUNDS';\nexport const EVENT_DISPLAY_NOTIFICATION = 'wazo/EVENT_DISPLAY_NOTIFICATION';\nexport const EVENT_CHANGE_NAVBAR_COLOR = 'wazo/EVENT_CHANGE_NAVBAR_COLOR';\nexport const EVENT_RESET_NAVBAR_COLOR = 'wazo/EVENT_RESET_NAVBAR_COLOR';\nexport const EVENT_DISPLAY_MODAL = 'wazo/EVENT_DISPLAY_MODAL';\nexport const EVENT_REMOVE_MODAL = 'wazo/EVENT_REMOVE_MODAL';\nexport const EVENT_USER_JOIN_ROOM = 'wazo/EVENT_USER_JOIN_ROOM';\nexport const EVENT_USER_LEAVE_ROOM = 'wazo/EVENT_USER_LEAVE_ROOM';\nexport const EVENT_PARTICIPANT_JOIN_ROOM = 'wazo/EVENT_PARTICIPANT_JOIN_ROOM';\nexport const EVENT_PARTICIPANT_LEAVE_ROOM = 'wazo/EVENT_PARTICIPANT_LEAVE_ROOM';\nexport const EVENT_IGNORE_CALL = 'wazo/EVENT_IGNORE_CALL';\nexport const EVENT_ON_NEW_SESSION = 'wazo/EVENT_ON_NEW_SESSION';\nexport const EVENT_UPDATE_BADGE = 'wazo/EVENT_UPDATE_BADGE';\nexport const EVENT_DISPLAY_BANNER = 'wazo/EVENT_DISPLAY_BANNER';\nexport const EVENT_REMOVE_BANNER = 'wazo/EVENT_REMOVE_BANNER';\n// Portal\nexport const EVENT_ON_CONNECTED_TO_STACK = 'wazo/EVENT_ON_CONNECTED_TO_STACK';\nexport const EVENT_ON_SWITCH_STACK_TENANT = 'wazo/EVENT_ON_SWITCH_STACK_TENANT';\nexport const EVENT_CHANGE_TOOLBAR_DISPLAY = 'wazo/EVENT_CHANGE_TOOLBAR_DISPLAY';\n// Mobile\nexport const EVENT_MOBILE_HEADER = 'wazo/mobile/EVENT_MOBILE_HEADER';\nexport const EVENT_MOBILE_CONTEXTUAL_MENU = 'wazo/mobile/EVENT_MOBILE_CONTEXTUAL_MENU';\nexport const EVENT_MOBILE_SHOW_BOTTOM_NAV = 'wazo/mobile/EVENT_MOBILE_SHOW_BOTTOM_NAV';\nexport const EVENT_MOBILE_ON_MENU_ACTION = 'wazo/mobile/EVENT_MOBILE_ON_MENU_ACTION';\nexport const EVENT_MOBILE_ON_HEADER_BACK = 'wazo/mobile/EVENT_MOBILE_ON_HEADER_BACK';\n","import { EVENT_ON_LOADED, EVENT_APP_UNLOADED, EVENT_PLUGIN_UNLOADED, EVENT_APP_INITIALIZE, EVENT_ON_LOGOUT, EVENT_SEND_IFRAME_MESSAGE, EVENT_SEND_BACKGROUND_MESSAGE, EVENT_ON_IFRAME_MESSAGE, EVENT_ON_BACKGROUND_MESSAGE, EVENT_CLOSE_LEFT_PANEL, EVENT_OPEN_LEFT_PANEL, EVENT_START_CALL, EVENT_ON_CALL_INCOMING, EVENT_ON_CALL_MADE, EVENT_ON_CALL_ANSWERED, EVENT_ON_CALL_ACCEPTED, EVENT_ON_CALL_HUNG_UP, EVENT_OPEN_LINK, EVENT_CREATE_MEETING, EVENT_OPEN_MEETING_LOBBY, EVENT_ON_MEETING_CREATED, EVENT_ROUTE_CHANGE, EVENT_WS_MESSAGE, EVENT_PLAY_PROGRESS_SOUND, EVENT_PLAY_NEW_MESSAGE_SOUND, EVENT_PLAY_INCOMING_CALL_SOUND, EVENT_PLAY_DOUBLE_CALL_SOUND, EVENT_PLAY_HANGUP_SOUND, EVENT_STOP_CURRENT_SOUND, EVENT_CONFIGURE_SOUNDS, EVENT_RESET_SOUNDS, EVENT_DISPLAY_NOTIFICATION, EVENT_CHANGE_NAVBAR_COLOR, EVENT_RESET_NAVBAR_COLOR, EVENT_DISPLAY_MODAL, EVENT_REMOVE_MODAL, EVENT_USER_JOIN_ROOM, EVENT_USER_LEAVE_ROOM, EVENT_PARTICIPANT_JOIN_ROOM, EVENT_PARTICIPANT_LEAVE_ROOM, EVENT_IGNORE_CALL, EVENT_ON_NEW_SESSION, EVENT_UPDATE_BADGE, EVENT_ON_CONNECTED_TO_STACK, EVENT_ON_SWITCH_STACK_TENANT, EVENT_CHANGE_TOOLBAR_DISPLAY, EVENT_MOBILE_HEADER, EVENT_MOBILE_CONTEXTUAL_MENU, EVENT_MOBILE_SHOW_BOTTOM_NAV, EVENT_MOBILE_ON_MENU_ACTION, EVENT_MOBILE_ON_HEADER_BACK, EVENT_DISPLAY_BANNER, EVENT_REMOVE_BANNER, } from './constants.js';\nconst initializationTimeoutInMs = 5000;\nexport class App {\n    constructor() {\n        // Global\n        this.onNewSession = (session) => { };\n        this.onUnLoaded = (e) => { };\n        this.onPluginUnLoaded = () => { };\n        this.onAppUnLoaded = (tabId) => { };\n        this.onIframeMessage = (message) => { };\n        this.onBackgroundMessage = (message) => { };\n        // WDA\n        this.onLogout = () => { };\n        this.onCallIncoming = (call) => { };\n        this.onCallMade = (call) => { };\n        this.onCallAnswered = (call) => { };\n        this.onCallAccepted = (call) => { };\n        this.onCallHungUp = (call) => { };\n        this.onUnHandledEvent = (event) => { };\n        this.onWebsocketMessage = (message) => { };\n        this.onMeetingCreated = (meeting) => { };\n        this.onRouteChanged = (location, action) => { };\n        this.onUserJoinRoom = (room) => { };\n        this.onUserLeaveRoom = (room) => { };\n        this.onParticipantJoinRoom = (room, participant) => { };\n        this.onParticipantLeaveRoom = (room, participant) => { };\n        // Portal\n        this.onConnectedToStack = (stackSession) => { };\n        this.onSwitchTenant = (uuid, name) => { };\n        this.initialize = async () => {\n            if (this.isInitialized()) {\n                return Promise.resolve();\n            }\n            window.addEventListener('message', this._onMessage, false);\n            return new Promise((resolve, reject) => {\n                this._sendMessage(EVENT_APP_INITIALIZE, { bg: this._isBackground, pluginId: this._pluginId });\n                this._initializeTimeout = setTimeout(() => {\n                    this._initializeTimeout = null;\n                    reject('SDK initialize timeout');\n                }, initializationTimeoutInMs);\n                this._initializeResolve = resolve;\n            });\n        };\n        this.isInitialized = () => {\n            return this._initializeCompleted;\n        };\n        // Global\n        this.getContext = () => this.context;\n        this.sendMessageToIframe = (payload) => this._sendMessage(EVENT_SEND_IFRAME_MESSAGE, { payload });\n        this.sendMessageToBackground = (payload) => this._sendMessage(EVENT_SEND_BACKGROUND_MESSAGE, { payload });\n        // WDA\n        this.startCall = ({ targets, requestedModalities = ['audio'] }) => {\n            this._sendMessage(EVENT_START_CALL, { targets, requestedModalities });\n        };\n        this.openLink = (url) => {\n            this._sendMessage(EVENT_OPEN_LINK, { url });\n        };\n        this.createMeeting = (name, requireAuthorization = false, persistent = false) => {\n            this._sendMessage(EVENT_CREATE_MEETING, { name, requireAuthorization, persistent });\n        };\n        this.openMeetingLobby = (extension) => {\n            this._sendMessage(EVENT_OPEN_MEETING_LOBBY, { extension });\n        };\n        this.openSettings = () => {\n            // @TODO: Fix it in WDA\n            // this._sendMessage(EVENT_OPEN_SETTINGS);\n        };\n        this.closeLeftPanel = () => this._sendMessage(EVENT_CLOSE_LEFT_PANEL);\n        this.openLeftPanel = () => this._sendMessage(EVENT_OPEN_LEFT_PANEL);\n        this.playProgressSound = () => this._sendMessage(EVENT_PLAY_PROGRESS_SOUND);\n        this.playNewMessageSound = () => this._sendMessage(EVENT_PLAY_NEW_MESSAGE_SOUND);\n        this.playIncomingCallSound = () => this._sendMessage(EVENT_PLAY_INCOMING_CALL_SOUND);\n        this.playDoubleCallSound = () => this._sendMessage(EVENT_PLAY_DOUBLE_CALL_SOUND);\n        this.playHangupSound = () => this._sendMessage(EVENT_PLAY_HANGUP_SOUND);\n        this.stopCurrentSound = () => this._sendMessage(EVENT_STOP_CURRENT_SOUND);\n        this.configureSounds = (sounds) => this._sendMessage(EVENT_CONFIGURE_SOUNDS, { sounds });\n        this.resetSounds = () => this._sendMessage(EVENT_RESET_SOUNDS);\n        this.changeNavBarColor = (color) => this._sendMessage(EVENT_CHANGE_NAVBAR_COLOR, { color });\n        this.resetNavBarColor = () => this._sendMessage(EVENT_RESET_NAVBAR_COLOR);\n        this.displayNotification = (title, text) => this._sendMessage(EVENT_DISPLAY_NOTIFICATION, { title, text });\n        this.displayModal = ({ url, title, text, htmlText, height, width, hideCloseButton }) => this._sendMessage(EVENT_DISPLAY_MODAL, { url, title, text, htmlText, height, width, hideCloseButton });\n        this.removeModal = () => this._sendMessage(EVENT_REMOVE_MODAL);\n        this.hasLocalVideoStream = (call) => Wazo.Phone.phone.hasALocalVideoTrack(call);\n        this.getLocalCurrentVideoStream = (call) => Wazo.Phone.phone.getLocalVideoStream(call);\n        this.hasRemoveVideoStream = (call) => Wazo.Phone.phone.hasRemoteVideo(call);\n        this.getRemoteVideoStream = (call) => Wazo.Phone.phone.getRemoteVideoStream(call);\n        this.updateBadge = (args) => this._sendMessage(EVENT_UPDATE_BADGE, { ...args, entityId: args.entityId || this._entityId || 'update-badge-null-entity-id' });\n        this.displayBanner = (args) => this._sendMessage(EVENT_DISPLAY_BANNER, { ...args, entityId: this._entityId || 'display-banner-null-entity-id' });\n        this.closeBanner = () => this._sendMessage(EVENT_REMOVE_BANNER, { entityId: this._entityId || 'remove-banner-null-entity-id' });\n        // Portal\n        this.changeToolbarDisplay = (display) => this._sendMessage(EVENT_CHANGE_TOOLBAR_DISPLAY, { display });\n        // App to Mobile\n        this.setMobileHeader = ({ title, callback }, entityId) => {\n            const id = entityId || this._entityId;\n            if (id) {\n                delete this._headerBackCallbacks[id];\n                if (typeof callback === 'function') {\n                    this._headerBackCallbacks[id] = callback;\n                }\n            }\n            this._sendMessage(EVENT_MOBILE_HEADER, {\n                headerTitle: title,\n                emitHeaderBack: !!callback,\n                entityId: entityId || this._entityId,\n            });\n        };\n        // @WIP\n        this.setMobileContextualMenu = (contextualMenu, entityId) => this._sendMessage(EVENT_MOBILE_CONTEXTUAL_MENU, { contextualMenu, entityId: entityId || this._entityId });\n        // @WIP\n        this.setMobileShowBottomNav = (showBottomNav, entityId) => this._sendMessage(EVENT_MOBILE_SHOW_BOTTOM_NAV, { showBottomNav, entityId: entityId || this._entityId });\n        // Mobile to app\n        // @WIP\n        this.onMobileMenuAction = (id) => this.sendMessageToIframe({ type: EVENT_MOBILE_ON_MENU_ACTION, id });\n        this._onMessage = (event) => {\n            if (!event.data) {\n                return;\n            }\n            switch (event.data.type) {\n                // Global\n                case EVENT_ON_LOADED:\n                    this._onLoaded(event.data.session, event.data.theme, event.data.locale, event.data.extra);\n                    break;\n                case EVENT_APP_UNLOADED:\n                    delete this._headerBackCallbacks[event.data.tabId];\n                    this.onAppUnLoaded(event.data.tabId);\n                    break;\n                case EVENT_PLUGIN_UNLOADED:\n                    this._unloadPlugin();\n                    break;\n                case EVENT_ON_LOGOUT:\n                    this.onLogout();\n                    this._unloadPlugin();\n                    break;\n                case EVENT_ON_NEW_SESSION:\n                    this.onNewSession(event.data.session);\n                    break;\n                case EVENT_ON_IFRAME_MESSAGE:\n                    if (event.data._pluginId === this._pluginId) {\n                        this.onIframeMessage(event.data.payload);\n                    }\n                    break;\n                case EVENT_ON_BACKGROUND_MESSAGE:\n                    if (event.data._pluginId === this._pluginId) {\n                        this.onBackgroundMessage(event.data.payload);\n                    }\n                    break;\n                case EVENT_USER_JOIN_ROOM:\n                    this.onUserJoinRoom(event.data.room);\n                    break;\n                case EVENT_USER_LEAVE_ROOM:\n                    this.onUserLeaveRoom(event.data.room);\n                    break;\n                case EVENT_PARTICIPANT_JOIN_ROOM:\n                    this.onParticipantJoinRoom(event.data.room, event.data.participant);\n                    break;\n                case EVENT_PARTICIPANT_LEAVE_ROOM:\n                    this.onParticipantLeaveRoom(event.data.room, event.data.participant);\n                    break;\n                // WDA\n                case EVENT_WS_MESSAGE:\n                    this.onWebsocketMessage(event.data.message);\n                    break;\n                case EVENT_ON_MEETING_CREATED:\n                    this.onMeetingCreated(event.data.meeting);\n                    break;\n                case EVENT_ROUTE_CHANGE:\n                    this.onRouteChanged(event.data.location, event.data.action);\n                    break;\n                case EVENT_ON_CALL_INCOMING:\n                    this.onCallIncoming(event.data.call);\n                    break;\n                case EVENT_ON_CALL_MADE:\n                    this.onCallMade(event.data.call);\n                    break;\n                case EVENT_ON_CALL_ANSWERED:\n                    this.onCallAnswered(event.data.call);\n                    break;\n                case EVENT_ON_CALL_ACCEPTED:\n                    this.onCallAccepted(event.data.call);\n                    break;\n                case EVENT_ON_CALL_HUNG_UP:\n                    this.onCallHungUp(event.data.call);\n                    break;\n                // Portal\n                case EVENT_ON_CONNECTED_TO_STACK:\n                    this.onConnectedToStack(event.data.stackSession);\n                    break;\n                case EVENT_ON_SWITCH_STACK_TENANT:\n                    this.onSwitchTenant(event.data.tenant.uuid, event.data.tenant.name);\n                    break;\n                // Mobile\n                case EVENT_MOBILE_ON_HEADER_BACK:\n                    const action = this._headerBackCallbacks[event.data.entityId || this._entityId];\n                    if (typeof action === 'function') {\n                        action();\n                    }\n                    break;\n                case EVENT_MOBILE_ON_MENU_ACTION:\n                    this.onMobileMenuAction(event.data);\n                    break;\n                default:\n                    this.onUnHandledEvent(event);\n                    break;\n            }\n        };\n        this._sendMessage = (type, payload = {}) => {\n            if (!this.isInitialized() && type !== EVENT_APP_INITIALIZE) {\n                this._queuedMessages.push({ type, payload });\n                return;\n            }\n            // @ts-ignore\n            if (window.ReactNativeWebView) {\n                // @ts-ignore (Mobile)\n                return window.ReactNativeWebView.postMessage(JSON.stringify({ type, _pluginId: this._pluginId, _entityId: this._entityId, ...payload }));\n            }\n            window.parent.postMessage({ type, _pluginId: this._pluginId, _entityId: this._entityId, ...payload }, '*');\n        };\n        this._sendQueuedMessages = () => {\n            this._queuedMessages.forEach(({ type, payload }) => {\n                this._sendMessage(type, payload);\n            });\n        };\n        this._onLoaded = (session, theme, locale, extra) => {\n            if (this._initializeTimeout === null || this.isInitialized()) {\n                return;\n            }\n            clearTimeout(this._initializeTimeout);\n            this._initializeCompleted = true;\n            this.context.app = {\n                locale,\n                theme,\n                host: {\n                    clientType: extra ? extra.clientType : null,\n                },\n                extra: {\n                    ...extra,\n                    baseUrl: this._baseUrl,\n                    pluginId: this._pluginId,\n                },\n            };\n            this.context.user = session;\n            if (this._initializeResolve) {\n                this._initializeResolve();\n            }\n            this._sendQueuedMessages();\n        };\n        // Deprecated, we should use `_configurePlugin` instead\n        this._setPluginId = (pluginId) => {\n            this._pluginId = pluginId;\n        };\n        this._unloadPlugin = () => {\n            this.onPluginUnLoaded();\n            this._resetEvents();\n        };\n        this._configurePlugin = (configuration) => {\n            if (configuration.pluginId) {\n                this._pluginId = configuration.pluginId;\n            }\n            if (configuration.baseUrl) {\n                this._baseUrl = configuration.baseUrl;\n            }\n            if (configuration.entityId) {\n                this._entityId = configuration.entityId;\n            }\n        };\n        this._resetEvents = () => {\n            this.onUnLoaded = (e) => { };\n            this.onPluginUnLoaded = () => { };\n            this.onAppUnLoaded = (tabId) => { };\n            this.onIframeMessage = (message) => { };\n            this.onBackgroundMessage = (message) => { };\n            // WDA\n            this.onLogout = () => { };\n            this.onNewSession = (session) => { };\n            this.onCallIncoming = (call) => { };\n            this.onCallMade = (call) => { };\n            this.onCallAnswered = (call) => { };\n            this.onCallAccepted = (call) => { };\n            this.onCallHungUp = (call) => { };\n            this.onUnHandledEvent = (event) => { };\n            this.onWebsocketMessage = (message) => { };\n            this.onMeetingCreated = (meeting) => { };\n            this.onRouteChanged = (location, action) => { };\n            // Portal\n            this.onConnectedToStack = (stackSession) => { };\n            this.onSwitchTenant = (uuid, name) => { };\n        };\n        this._resetEvents();\n        this._initializeCompleted = false;\n        this._initializeResolve = null;\n        this._initializeTimeout = null;\n        this._pluginId = globalThis?.pluginId || null;\n        this._baseUrl = null;\n        this._entityId = null;\n        this._isBackground = !window.name;\n        this._queuedMessages = [];\n        this._headerBackCallbacks = {};\n        this.context = {\n            app: {\n                locale: null,\n                theme: null,\n                host: {\n                    clientType: null,\n                },\n                extra: null,\n            },\n        };\n        // Can't be simplified as `window.onunload = this.onUnLoaded`\n        // because `this.onUnLoaded` might not have been overridden by the module yet.\n        window.onunload = (e) => {\n            this.onUnLoaded(e);\n        };\n        // Used to fetch pluginId when loaded in an iframe\n        if (window.name) {\n            try {\n                // Is window.name a valid JSON ?\n                this._configurePlugin(JSON.parse(window.name));\n            }\n            catch (_) {\n                // Deprecated way to do it, remove it in future version\n                this._configurePlugin({ pluginId: window.name });\n            }\n        }\n        // We expose a global method to be used in the <script> tag directly after importing the `backgroundScript` url\n        // Also used in mobile\n        globalThis._setPluginId = this._setPluginId;\n        globalThis._configurePlugin = this._configurePlugin;\n    }\n    ignoreCall(call) {\n        this._sendMessage(EVENT_IGNORE_CALL, { call });\n    }\n}\n// @deprecated: can conflict with other app when using the instance directly\nexport default new App();\n","/* eslint-disable no-unused-vars */\n/* global window, document */\nimport EventEmitter from 'events';\nconst BRIDGE_CONFIG_RETRIEVED = 'bridge/CONFIG_RETRIEVED';\nconst BRIDGE_LOGGED_OUT = 'bridge/LOGGED_OUT';\nconst BRIDGE_CREATE_OR_UPDATE_CARD = 'bridge/BRIDGE_CREATE_OR_UPDATE_CARD';\nconst BRIDGE_OPTIONS_FETCHED = 'bridge/BRIDGE_OPTIONS_FETCHED';\nconst BRIDGE_OPTIONS_FOUND = 'bridge/BRIDGE_OPTIONS_FOUND';\nconst BRIDGE_SEARCH_OPTIONS = 'bridge/BRIDGE_SEARCH_OPTIONS';\nconst BRIDGE_DISPLAY_LINKED_OPTION = 'bridge/DISPLAY_LINKED_OPTION';\nconst BRIDGE_UPDATE_FORM_SCHEMA = 'bridge/BRIDGE_UPDATE_FORM_SCHEMA';\nconst BRIDGE_WAZO_CONTACT_SEARCH = 'bridge/BRIDGE_WAZO_CONTACT_SEARCH';\nconst BRIDGE_ON_AGENT_LOGGED_IN = 'bridge/BRIDGE_ON_AGENT_LOGGED_IN';\nconst BRIDGE_ON_AGENT_LOGGED_OUT = 'bridge/BRIDGE_ON_AGENT_LOGGED_OUT';\nconst BRIDGE_ON_AGENT_PAUSED = 'bridge/BRIDGE_ON_AGENT_PAUSED';\nconst BRIDGE_ON_AGENT_RESUMED = 'bridge/BRIDGE_ON_AGENT_RESUMED';\nconst BRIDGE_ON_LANGUAGE_CHANGED = 'bridge/BRIDGE_ON_LANGUAGE_CHANGED';\nconst BRIDGE_ON_CALL_LOCALLY_ACCEPTED = 'bridge/BRIDGE_ON_CALL_LOCALLY_ACCEPTED';\nconst BRIDGE_ON_CALL_REJECTED = 'bridge/BRIDGE_ON_CALL_REJECTED';\nconst BRIDGE_ON_CALL_ESTABLISHED = 'bridge/BRIDGE_ON_CALL_ESTABLISHED';\nconst BRIDGE_ON_CALL_HELD = 'bridge/BRIDGE_ON_CALL_HELD';\nconst BRIDGE_ON_CALL_RESUMED = 'bridge/BRIDGE_ON_CALL_RESUMED';\nconst BRIDGE_ON_CALL_MUTED = 'bridge/BRIDGE_ON_CALL_MUTED';\nconst BRIDGE_ON_CALL_UN_MUTED = 'bridge/BRIDGE_ON_CALL_UN_MUTED';\nconst BRIDGE_ON_DTMF = 'bridge/BRIDGE_ON_DTMF';\nconst BRIDGE_ON_DIRECT_TRANSFER = 'bridge/BRIDGE_ON_DIRECT_TRANSFER';\nconst BRIDGE_ON_CREATE_INDIRECT_TRANSFER = 'bridge/BRIDGE_ON_CREATE_INDIRECT_TRANSFER';\nconst BRIDGE_ON_CANCEL_INDIRECT_TRANSFER = 'bridge/BRIDGE_ON_CANCEL_INDIRECT_TRANSFER';\nconst BRIDGE_ON_CONFIRM_INDIRECT_TRANSFER = 'bridge/BRIDGE_ON_CONFIRM_INDIRECT_TRANSFER';\nconst BRIDGE_ON_INDIRECT_TRANSFER_CALL_MADE = 'bridge/BRIDGE_ON_INDIRECT_TRANSFER_CALL_MADE';\nconst BRIDGE_ON_INDIRECT_TRANSFER_DONE = 'bridge/BRIDGE_ON_INDIRECT_TRANSFER_DONE';\nconst BRIDGE_ON_START_RECORDING = 'bridge/BRIDGE_ON_START_RECORDING';\nconst BRIDGE_ON_STOP_RECORDING = 'bridge/BRIDGE_ON_STOP_RECORDING';\nconst BRIDGE_ON_CARD_CANCELED = 'bridge/BRIDGE_ON_CARD_CANCELED';\nconst BRIDGE_ENABLE_AGENT = 'bridge/BRIDGE_ENABLE_AGENT';\nconst BRIDGE_SET_CARD_CONTENT = 'bridge/BRIDGE_SET_CARD_CONTENT';\nconst BRIDGE_ENABLE_DEBUG = 'bridge/BRIDGE_ENABLE_DEBUG';\nconst BRIDGE_CALL_LOG_CREATED = 'bridge/BRIDGE_CALL_LOG_CREATED';\nconst BRIDGE_ON_WEBSOCKET_MESSAGE = 'bridge/BRIDGE_ON_WEBSOCKET_MESSAGE';\nconst BRIDGE_LOGIN_WITH_TOKEN = 'bridge/BRIDGE_LOGIN_WITH_TOKEN';\nconst BRIDGE_ON_CLICK_TO_CALL = 'bridge/ON_CLICK_TO_CALL';\nconst BRIDGE_INJECT_CSS = 'bridge/BRIDGE_INJECT_CSS';\nconst BRIDGE_CUSTOMIZE_APPEARANCE = 'bridge/BRIDGE_CUSTOMIZE_APPEARANCE';\nconst SDK_ON_OUTGOING_CALL_MADE = 'sdk/SDK_ON_OUTGOING_CALL_MADE';\nconst SDK_CALL_ENDED = 'sdk/ON_CALL_ENDED';\nconst SDK_CALL_INCOMING = 'sdk/SDK_CALL_INCOMING';\nconst SDK_AUTHENTICATED = 'sdk/SDK_AUTHENTICATED';\n// Events\nexport const SHOW = 'show';\nexport const HIDE = 'hide';\nclass Softphone extends EventEmitter {\n    constructor() {\n        super(...arguments);\n        this.url = 'https://softphone.wazo.io';\n        this.width = 500;\n        this.height = 600;\n        this.iframeCss = { left: 0, bottom: 0 };\n        this.displayed = false;\n        this.wrapper = null;\n        this.iframe = null;\n        this.iframeLoaded = false;\n        this.session = null;\n        // Message waiting for the iframe to be loaded\n        this._pendingMessages = [];\n    }\n    onLinkEnabled(link) { }\n    onIFrameLoaded() { }\n    onCallLocallyAnswered(call) { }\n    onCallEstablished(call) { }\n    onOutgoingCallMade(call) { }\n    onCallIncoming(call) { }\n    onCallRejected(call) { }\n    onCallEnded(call, card, direction, fromExtension) { }\n    onCardSaved(card) { }\n    onCardCanceled() { }\n    onAuthenticated(session) { }\n    onLoggedOut() { }\n    onSearchOptions(fieldId, query) {\n        this.onOptionsResults(fieldId, []);\n    }\n    onDisplayLinkedOption(optionId) { }\n    onWazoContactSearch(query) { }\n    onAgentLoggedIn() { }\n    onAgentLoggedOut() { }\n    onAgentPaused() { }\n    onAgentResumed() { }\n    onLanguageChanged(language) { }\n    onCallHeld() { }\n    onCallResumed() { }\n    onCallMuted() { }\n    onCallUnMuted() { }\n    onDtmfSent(tone) { }\n    onDirectTransfer(number) { }\n    onCreateIndirectTransfer(number) { }\n    onCancelIndirectTransfer() { }\n    onConfirmIndirectTransfer() { }\n    onIndirectCallMade(call) { }\n    onIndirectTransferDone(call) { }\n    onStartRecording() { }\n    onStopRecording() { }\n    onCallLogCreated(callLog) { }\n    onWebsocketMessage(message) { }\n    onUnHandledEvent(event) { }\n    init({ url, width, height, server, port, language, wrapUpDuration, iframeCss, enableAgent = true, tenantId, domainName, debug = false, disableAutoLogin = false, }) {\n        this.url = url || this.url;\n        this.width = width || this.width;\n        this.height = height || this.height;\n        this.iframeCss = iframeCss || this.iframeCss;\n        this.displayed = false;\n        this.iframeLoaded = false;\n        this.iframeLoaded = false;\n        this._pendingMessages = [];\n        window.addEventListener('message', this._onMessage.bind(this), false);\n        if (!server) {\n            throw new Error('`server` is not set');\n        }\n        const config = { server, disableAutoLogin };\n        if (language) {\n            config.language = language;\n        }\n        if (port) {\n            config.port = port;\n        }\n        if (tenantId) {\n            console.warn('Use of `tenantId` is deprecated when calling `Softphone.init()`, use `domainName` instead');\n            config.tenantId = tenantId;\n        }\n        if (domainName) {\n            config.domainName = domainName;\n        }\n        if (wrapUpDuration) {\n            config.wrapUpDuration = wrapUpDuration;\n        }\n        this._sendMessage(BRIDGE_CONFIG_RETRIEVED, { config });\n        if (enableAgent) {\n            this._sendMessage(BRIDGE_ENABLE_AGENT);\n        }\n        if (debug) {\n            this._sendMessage(BRIDGE_ENABLE_DEBUG);\n        }\n        this._createIframe(() => {\n            this.iframeLoaded = true;\n            this._pendingMessages.forEach(([type, payload]) => this._sendMessage(type, payload));\n            this.onIFrameLoaded();\n        });\n    }\n    parseLinks() {\n        const links = this._getLinks();\n        links.forEach((link) => {\n            link.setAttribute('data-wazo-parsed', 'true');\n            link.addEventListener('click', this._onLinkClick.bind(this));\n            this.onLinkEnabled(link);\n        });\n    }\n    removeParsedLinksEvent() {\n        [].slice.call(document.querySelectorAll('a[data-wazo-parsed]'), 0).forEach((link) => {\n            link.removeAttribute('data-wazo-parsed');\n            link.removeEventListener('click', this._onLinkClick.bind(this));\n        });\n    }\n    makeCall(number) {\n        this.show();\n        this._sendMessage(BRIDGE_ON_CLICK_TO_CALL, { number });\n    }\n    toggleDisplay() {\n        if (this.displayed) {\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    }\n    show() {\n        if (!this.iframe) {\n            this._createIframe();\n        }\n        if (this.iframe) {\n            this.iframe.style.display = 'block';\n        }\n        this.displayed = true;\n        this.emit(SHOW);\n    }\n    hide() {\n        if (this.iframe) {\n            this.iframe.style.display = 'none';\n        }\n        this.displayed = false;\n        this.emit(HIDE);\n    }\n    remove() {\n        if (this.iframe) {\n            this.iframe.remove();\n        }\n        if (this.wrapper) {\n            this.wrapper.remove();\n        }\n        this.iframe = null;\n        this.wrapper = null;\n    }\n    optionsFetched(fieldId, options) {\n        this._sendMessage(BRIDGE_OPTIONS_FETCHED, { fieldId, options });\n    }\n    onOptionsResults(fieldId, options) {\n        this._sendMessage(BRIDGE_OPTIONS_FOUND, { fieldId, options });\n    }\n    setFormSchema(schema, uiSchema) {\n        this._sendMessage(BRIDGE_UPDATE_FORM_SCHEMA, { schema, uiSchema });\n    }\n    setCardValue(field, value) {\n        this._sendMessage(BRIDGE_SET_CARD_CONTENT, { field, value });\n    }\n    injectCss(css) {\n        this._sendMessage(BRIDGE_INJECT_CSS, { css });\n    }\n    customizeAppearance(themes, translations, assets) {\n        this._sendMessage(BRIDGE_CUSTOMIZE_APPEARANCE, { themes, translations, assets });\n    }\n    loginWithToken(token, refreshToken) {\n        this._sendMessage(BRIDGE_LOGIN_WITH_TOKEN, { token, refreshToken });\n    }\n    configureServer(server) {\n        this._sendMessage(BRIDGE_CONFIG_RETRIEVED, { config: { server } });\n    }\n    updateCss(iframeCss = null) {\n        if (!iframeCss) {\n            return;\n        }\n        if (this.wrapper) {\n            Object.keys(iframeCss).forEach(key => {\n                // @ts-ignore: fix CSS key here\n                this.wrapper.style[key] = iframeCss[key];\n            });\n        }\n        this.iframeCss = iframeCss;\n    }\n    _createIframe(cb) {\n        // Remove iframe before creating it.\n        this.remove();\n        this.wrapper = document.createElement('div');\n        this.wrapper.id = 'iframe-wrapper';\n        this.wrapper.style.position = 'fixed';\n        this.updateCss(this.iframeCss);\n        this.iframe = document.createElement('iframe');\n        this.iframe.width = String(this.width);\n        this.iframe.height = String(this.height);\n        this.iframe.allow = 'camera *; microphone *; autoplay *; display-capture *';\n        this.iframe.style.border = '1px solid #aaa';\n        this.iframe.style.backgroundColor = 'white';\n        this.iframe.style.display = 'none';\n        this.iframe.src = this.url;\n        this.iframe.id = 'wazo-softphone';\n        if (cb) {\n            this.iframe.onload = cb;\n        }\n        this.wrapper.appendChild(this.iframe);\n        document.body.appendChild(this.wrapper);\n    }\n    _getLinks() {\n        return [].slice.call(document.querySelectorAll('a:not([data-wazo-parsed])'), 0)\n            .filter((link) => link.href.indexOf('tel:') === 0 || link.href.indexOf('callto:') === 0);\n    }\n    _onLinkClick(e) {\n        e.preventDefault();\n        const number = e.target.href.split('//')[1];\n        this.makeCall(number);\n    }\n    _onAuthenticated(session) {\n        this.session = session;\n        this.parseLinks();\n    }\n    _onMessage(event) {\n        if (!event.data) {\n            return;\n        }\n        switch (event.data.type) {\n            case SDK_ON_OUTGOING_CALL_MADE:\n                this.onOutgoingCallMade(event.data.callSession);\n                break;\n            case SDK_CALL_ENDED: {\n                const { callSession, content, direction, userExtension } = event.data;\n                this.onCallEnded(callSession, content, direction, userExtension);\n                break;\n            }\n            case SDK_CALL_INCOMING:\n                this.onCallIncoming(event.data.callSession);\n                break;\n            case SDK_AUTHENTICATED:\n                this._onAuthenticated(event.data.session);\n                this.onAuthenticated(event.data.session);\n                break;\n            case BRIDGE_LOGGED_OUT:\n                this.onLoggedOut();\n                break;\n            case BRIDGE_CREATE_OR_UPDATE_CARD: {\n                const { content } = event.data;\n                this.onCardSaved(content);\n                break;\n            }\n            case BRIDGE_SEARCH_OPTIONS: {\n                const { fieldId, query } = event.data;\n                this.onSearchOptions(fieldId, query);\n                break;\n            }\n            case BRIDGE_DISPLAY_LINKED_OPTION:\n                this.onDisplayLinkedOption(event.data.linkedOptionId);\n                break;\n            case BRIDGE_WAZO_CONTACT_SEARCH:\n                this.onWazoContactSearch(event.data.query);\n                break;\n            case BRIDGE_ON_AGENT_LOGGED_IN:\n                this.onAgentLoggedIn();\n                break;\n            case BRIDGE_ON_AGENT_LOGGED_OUT:\n                this.onAgentLoggedOut();\n                break;\n            case BRIDGE_ON_AGENT_PAUSED:\n                this.onAgentPaused();\n                break;\n            case BRIDGE_ON_AGENT_RESUMED:\n                this.onAgentResumed();\n                break;\n            case BRIDGE_ON_LANGUAGE_CHANGED:\n                this.onLanguageChanged(event.data.language);\n                break;\n            case BRIDGE_ON_CALL_HELD:\n                this.onCallHeld();\n                break;\n            case BRIDGE_ON_CALL_RESUMED:\n                this.onCallResumed();\n                break;\n            case BRIDGE_ON_CALL_MUTED:\n                this.onCallMuted();\n                break;\n            case BRIDGE_ON_CALL_UN_MUTED:\n                this.onCallUnMuted();\n                break;\n            case BRIDGE_ON_DTMF:\n                this.onDtmfSent(event.data.tone);\n                break;\n            case BRIDGE_ON_DIRECT_TRANSFER:\n                this.onDirectTransfer(event.data.number);\n                break;\n            case BRIDGE_ON_CREATE_INDIRECT_TRANSFER:\n                this.onCreateIndirectTransfer(event.data.number);\n                break;\n            case BRIDGE_ON_CANCEL_INDIRECT_TRANSFER:\n                this.onCancelIndirectTransfer();\n                break;\n            case BRIDGE_ON_CONFIRM_INDIRECT_TRANSFER:\n                this.onConfirmIndirectTransfer();\n                break;\n            case BRIDGE_ON_INDIRECT_TRANSFER_CALL_MADE:\n                this.onIndirectCallMade(event.data.call);\n                break;\n            case BRIDGE_ON_INDIRECT_TRANSFER_DONE:\n                this.onIndirectTransferDone(event.data.call);\n                break;\n            case BRIDGE_ON_START_RECORDING:\n                this.onStartRecording();\n                break;\n            case BRIDGE_ON_STOP_RECORDING:\n                this.onStopRecording();\n                break;\n            case BRIDGE_ON_CARD_CANCELED:\n                this.onCardCanceled();\n                break;\n            case BRIDGE_ON_CALL_LOCALLY_ACCEPTED:\n                this.onCallLocallyAnswered(event.data.call);\n                break;\n            case BRIDGE_ON_CALL_REJECTED:\n                this.onCallRejected(event.data.call);\n                break;\n            case BRIDGE_ON_CALL_ESTABLISHED:\n                this.onCallEstablished(event.data.call);\n                break;\n            case BRIDGE_CALL_LOG_CREATED:\n                this.onCallLogCreated(event.data.callLog);\n                break;\n            case BRIDGE_ON_WEBSOCKET_MESSAGE:\n                this.onWebsocketMessage(event.data.message);\n                break;\n            default:\n                this.onUnHandledEvent(event);\n                break;\n        }\n    }\n    _sendMessage(type, payload = {}) {\n        if (!this.iframe || !this.iframeLoaded) {\n            this._pendingMessages.push([type, payload]);\n            return;\n        }\n        if (this.iframe && this.iframe.contentWindow) {\n            this.iframe.contentWindow.postMessage({ type, ...payload }, '*');\n        }\n    }\n}\nexport default new Softphone();\n","const isString = obj => typeof obj === 'string';\nconst defer = () => {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n};\nconst makeString = object => {\n  if (object == null) return '';\n  return '' + object;\n};\nconst copy = (a, s, t) => {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n};\nconst lastOfPathSeparatorRegExp = /###/g;\nconst cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\nconst canNotTraverseDeeper = object => !object || isString(object);\nconst getLastOfPath = (object, path, Empty) => {\n  const stack = !isString(path) ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper(object)) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper(object)) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n};\nconst setPath = (object, path, newValue) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last?.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n};\nconst pushPath = (object, path, newValue, concat) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  obj[k].push(newValue);\n};\nconst getPath = (object, path) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  if (!Object.prototype.hasOwnProperty.call(obj, k)) return undefined;\n  return obj[k];\n};\nconst getPathWithDefaults = (data, defaultData, key) => {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n};\nconst deepExtend = (target, source, overwrite) => {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n};\nconst regexEscape = str => str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nconst escape = data => {\n  if (isString(data)) {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n};\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nconst looksLikeObjectPath = (key, nsSeparator, keySeparator) => {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n};\nconst deepFind = function (obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) {\n    if (!Object.prototype.hasOwnProperty.call(obj, path)) return undefined;\n    return obj[path];\n  }\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n};\nconst getCleanedCode = code => code?.replace('_', '-');\n\nconst consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    console?.[type]?.apply?.(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(_ref => {\n        let [observer, numTimesAdded] = _ref;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(_ref2 => {\n        let [observer, numTimesAdded] = _ref2;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (isString(key) && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || !isString(key)) return result;\n    return deepFind(this.data?.[lng]?.[ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false,\n      skipCopy: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      value = this.processors[processor]?.process(value, key, options, translator) ?? value;\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nconst shouldHandleAsObject = res => !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key == null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved?.res !== undefined;\n  }\n  extractFromKey(key, options) {\n    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces: isString(namespaces) ? [namespaces] : namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    return {\n      key,\n      namespaces: isString(namespaces) ? [namespaces] : namespaces\n    };\n  }\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = {\n      ...options\n    };\n    if (!options) options = {};\n    if (keys == null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng?.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(options)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, options);\n    let res = resolved?.res;\n    const resUsedKey = resolved?.usedKey || key;\n    const resExactUsedKey = resolved?.exactUsedKey || key;\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const needsPluralHandling = options.count !== undefined && !isString(options.count);\n    const hasDefaultValue = Translator.hasDefaultValue(options);\n    const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n    const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n      ordinal: false\n    }) : '';\n    const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0;\n    const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n    let resForObjHndl = res;\n    if (handleAsObjectInI18nFormat && !res && hasDefaultValue) {\n      resForObjHndl = defaultValue;\n    }\n    const handleAsObject = shouldHandleAsObject(resForObjHndl);\n    const resType = Object.prototype.toString.apply(resForObjHndl);\n    if (handleAsObjectInI18nFormat && resForObjHndl && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(resForObjHndl))) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, resForObjHndl, {\n          ...options,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(options);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(resForObjHndl);\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in resForObjHndl) {\n          if (Object.prototype.hasOwnProperty.call(resForObjHndl, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            if (hasDefaultValue && !res) {\n              copy[m] = this.translate(deepKey, {\n                ...options,\n                defaultValue: shouldHandleAsObject(defaultValue) ? defaultValue[m] : undefined,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            } else {\n              copy[m] = this.translate(deepKey, {\n                ...options,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            }\n            if (copy[m] === deepKey) copy[m] = resForObjHndl[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...options,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n          } else if (this.backendConnector?.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, options);\n              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(options);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, options, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat?.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...options\n      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!options.skipInterpolation) {\n      if (options.interpolation) this.interpolator.init({\n        ...options,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...options.interpolation\n          }\n        }\n      });\n      const skipOnVariables = isString(res) && (options?.interpolation?.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = options.replace && !isString(options.replace) ? options.replace : options;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && resolved && resolved.res) options.lng = this.language || resolved.usedLng;\n      if (options.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey?.[0] === args[0] && !options.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, options);\n      if (options.interpolation) this.interpolator.reset();\n    }\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;\n    if (res != null && postProcessorNames?.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(options)\n        },\n        ...options\n      } : options, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (isString(keys)) keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = options.count !== undefined && !isString(options.count);\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0;\n      const needsContextHandling = options.context !== undefined && (isString(options.context) || typeof options.context === 'number') && options.context !== '';\n      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils?.hasLoadedNamespace && !this.utils?.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat?.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat?.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && !isString(options.replace);\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (isString(code) && code.indexOf('-') > -1) {\n      let formattedCode;\n      try {\n        formattedCode = Intl.getCanonicalLocales(code)[0];\n      } catch (e) {}\n      if (formattedCode && this.options.lowerCaseLng) {\n        formattedCode = formattedCode.toLowerCase();\n      }\n      if (formattedCode) return formattedCode;\n      if (this.options.lowerCaseLng) {\n        return code.toLowerCase();\n      }\n      return code;\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (isString(fallbacks)) fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (isString(code)) {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nconst dummyRule = {\n  select: count => count === 1 ? 'one' : 'other',\n  resolvedOptions: () => ({\n    pluralCategories: ['one', 'other']\n  })\n};\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.pluralRulesCache = {};\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  clearCache() {\n    this.pluralRulesCache = {};\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);\n    const type = options.ordinal ? 'ordinal' : 'cardinal';\n    const cacheKey = JSON.stringify({\n      cleanedCode,\n      type\n    });\n    if (cacheKey in this.pluralRulesCache) {\n      return this.pluralRulesCache[cacheKey];\n    }\n    let rule;\n    try {\n      rule = new Intl.PluralRules(cleanedCode, {\n        type\n      });\n    } catch (err) {\n      if (!Intl) {\n        this.logger.error('No Intl support, please use an Intl polyfill!');\n        return dummyRule;\n      }\n      if (!code.match(/-|_/)) return dummyRule;\n      const lngPart = this.languageUtils.getLanguagePartFromCode(code);\n      rule = this.getRule(lngPart, options);\n    }\n    this.pluralRulesCache[cacheKey] = rule;\n    return rule;\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    return rule?.resolvedOptions().pluralCategories.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    if (!rule) return [];\n    return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return this.getSuffix('dev', count, options);\n  }\n}\n\nconst deepFindWithDefaults = function (data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && isString(key)) {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n};\nconst regexSafe = val => val.replace(/\\$/g, '$$$$');\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options?.interpolation?.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const {\n      escape: escape$1,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat\n    } = options.interpolation;\n    this.escape = escape$1 !== undefined ? escape$1 : escape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n    this.formatSeparator = formatSeparator || ',';\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n    this.maxReplaces = maxReplaces || 1000;\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp?.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options?.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options?.interpolation?.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = isString(temp) ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (!isString(value) && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    const handleHasOptions = (key, inheritedOptions) => {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if ((matchedSingleQuotes?.length ?? 0) % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n      return key;\n    };\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && !isString(value)) return value;\n      if (!isString(value)) value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nconst parseFormatStr = formatStr => {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n          const trimmedKey = key.trim();\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n};\nconst createCachedFormatter = fn => {\n  const cache = {};\n  return (val, lng, options) => {\n    let optForCache = options;\n    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {\n      optForCache = {\n        ...optForCache,\n        [options.interpolationkey]: undefined\n      };\n    }\n    const key = lng + JSON.stringify(optForCache);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n};\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    this.formatSeparator = options.interpolation.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {\n      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);\n      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);\n    }\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options?.formatParams?.[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nconst removePending = (q, name) => {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n};\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    this.backend?.init?.(services, options.backend, options);\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (!err && data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    if (err && data) this.state[name] = 0;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);\n    if (isString(namespaces)) namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services?.utils?.hasLoadedNamespace && !this.services?.utils?.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend?.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nconst get = () => ({\n  debug: false,\n  initAsync: true,\n  ns: ['translation'],\n  defaultNS: ['translation'],\n  fallbackLng: ['dev'],\n  fallbackNS: false,\n  supportedLngs: false,\n  nonExplicitSupportedLngs: false,\n  load: 'all',\n  preload: false,\n  simplifyPluralSuffix: true,\n  keySeparator: '.',\n  nsSeparator: ':',\n  pluralSeparator: '_',\n  contextSeparator: '_',\n  partialBundledLanguages: false,\n  saveMissing: false,\n  updateMissing: false,\n  saveMissingTo: 'fallback',\n  saveMissingPlurals: true,\n  missingKeyHandler: false,\n  missingInterpolationHandler: false,\n  postProcess: false,\n  postProcessPassResolved: false,\n  returnNull: false,\n  returnEmptyString: true,\n  returnObjects: false,\n  joinArrays: false,\n  returnedObjectHandler: false,\n  parseMissingKeyHandler: false,\n  appendNamespaceToMissingKey: false,\n  appendNamespaceToCIMode: false,\n  overloadTranslationOptionHandler: args => {\n    let ret = {};\n    if (typeof args[1] === 'object') ret = args[1];\n    if (isString(args[1])) ret.defaultValue = args[1];\n    if (isString(args[2])) ret.tDescription = args[2];\n    if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n      const options = args[3] || args[2];\n      Object.keys(options).forEach(key => {\n        ret[key] = options[key];\n      });\n    }\n    return ret;\n  },\n  interpolation: {\n    escapeValue: true,\n    format: value => value,\n    prefix: '{{',\n    suffix: '}}',\n    formatSeparator: ',',\n    unescapePrefix: '-',\n    nestingPrefix: '$t(',\n    nestingSuffix: ')',\n    nestingOptionsSeparator: ',',\n    maxReplaces: 1000,\n    skipOnVariables: true\n  }\n});\nconst transformOptions = options => {\n  if (isString(options.ns)) options.ns = [options.ns];\n  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];\n  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs?.indexOf?.('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  if (typeof options.initImmediate === 'boolean') options.initAsync = options.initImmediate;\n  return options;\n};\n\nconst noop = () => {};\nconst bindMemberFunctions = inst => {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n};\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initAsync) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (options.defaultNS == null && options.ns) {\n      if (isString(options.ns)) {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    this.options.interpolation = {\n      ...defOpts.interpolation,\n      ...this.options.interpolation\n    };\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    const createClassOnDemand = ClassOrObject => {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    };\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initAsync) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = isString(language) ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng?.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      this.options.preload?.forEach?.(l => append(l));\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'function') {\n      callback = lngs;\n      lngs = undefined;\n    }\n    if (typeof ns === 'function') {\n      callback = ns;\n      ns = undefined;\n    }\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = isString(lngs) ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        this.services.languageDetector?.cacheUserLanguage?.(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let options;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = {\n          ...opts\n        };\n      }\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, options);\n    };\n    if (isString(lng)) {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.translator?.translate(...args);\n  }\n  exists() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    return this.translator?.exists(...args);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 0 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (isString(ns)) ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (isString(lngs)) lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages?.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services?.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      const clonedData = Object.keys(this.store.data).reduce((prev, l) => {\n        prev[l] = {\n          ...this.store.data[l]\n        };\n        return Object.keys(prev[l]).reduce((acc, n) => {\n          acc[n] = {\n            ...prev[l][n]\n          };\n          return acc;\n        }, {});\n      }, {});\n      clone.store = new ResourceStore(clonedData, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n        args[_key6 - 1] = arguments[_key6];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","import { App } from '@wazo/euc-plugins-sdk';\n\nimport i18next from \"i18next\";\n\nconst json = require('../../manifest.json');\n\nlet audio;\nlet url;\n\nconst app = new App();\n\n// Elements for internal calls\nconst ringInternalElem = document.getElementById(\"ring-internal\");\nconst playButtonInternal = document.getElementById(\"playButton-internal\");\nconst stopButtonInternal = document.getElementById(\"stopButton-internal\");\n\n// Elements for external calls\nconst ringExternalElem = document.getElementById(\"ring-external\");\nconst playButtonExternal = document.getElementById(\"playButton-external\");\nconst stopButtonExternal = document.getElementById(\"stopButton-external\");\n\nconst options = {\n  \"original\": \"Reset to original\",\n  \"iphone.mp3\": \"Iphone\",\n  \"iphone6.mp3\": \"Iphone 6\",\n  \"landline1.wav\": \"Landline 1\",\n  \"landline2.wav\": \"Landline 2\",\n  \"marimba.wav\": \"Marimba 1\",\n  \"marimba.mp3\": \"Marimba 2\",\n  \"ring3.wav\": \"Ring 3\",\n  \"ring4.wav\": \"Ring 4\",\n  \"ring5.wav\": \"Ring 5\",\n  \"bird2.mp3\": \"Bird\",\n  \"sf-oiseau-24.mp3\": \"Bird 1\",\n  \"oiseau2.mp3\": \"Bird 2\",\n  \"sf_oiseau_seul_01.mp3\": \"Bird 3\",\n  \"sf_oiseaux.mp3\": \"Bird 4\",\n  \"sf_canari.mp3\": \"Canary\",\n  \"lg_bubble.mp3\": \"Bubble\",\n  \"huawei.mp3\": \"Huawei\",\n  \"lg_peanut.mp3\": \"Peanut\",\n  \"xylo.mp3\": \"Xylophone\"\n};\n\napp.onIframeMessage = (msg) => {\n  if (msg.value === 'config') {\n    if (msg.ringInternal) {\n      const ring = msg.ringInternal.split(\"/\").pop();\n      ringInternalElem.value = ring;\n    }\n    if (msg.ringExternal) {\n      const ring = msg.ringExternal.split(\"/\").pop();\n      ringExternalElem.value = ring;\n    }\n  }\n}\n\nconst addOptionMenu = (options, idMenu) => {\n  const menu = document.getElementById(idMenu);\n\n  for (const option in options) {\n    const newOption = document.createElement(\"option\");\n    newOption.text = options[option];\n    newOption.value = option;\n    menu.add(newOption);\n  }\n}\n\nconst listenRingbackTone = (path) => {\n  audio = new Audio(path);\n  audio.play();\n}\n\nconst stopListenRingbackTone = () => {\n  if (audio) {\n    audio.pause();\n  }\n}\n\nconst addEventsListener = () => {\n  // Internal ring events\n  ringInternalElem.addEventListener(\"change\", function() {\n    const ring = ringInternalElem.value;\n    app.sendMessageToBackground({value: 'ring', type: 'internal', data: ring});\n    stopListenRingbackTone();\n  });\n\n  playButtonInternal.addEventListener(\"click\", () => {\n    const ring = ringInternalElem.value;\n    const path = `${url}/sounds/${ring}`;\n    stopListenRingbackTone();\n    listenRingbackTone(path);\n  });\n\n  stopButtonInternal.addEventListener(\"click\", () => {\n    stopListenRingbackTone();\n  });\n\n  // External ring events\n  ringExternalElem.addEventListener(\"change\", function() {\n    const ring = ringExternalElem.value;\n    app.sendMessageToBackground({value: 'ring', type: 'external', data: ring});\n    stopListenRingbackTone();\n  });\n\n  playButtonExternal.addEventListener(\"click\", () => {\n    const ring = ringExternalElem.value;\n    const path = `${url}/sounds/${ring}`;\n    stopListenRingbackTone();\n    listenRingbackTone(path);\n  });\n\n  stopButtonExternal.addEventListener(\"click\", () => {\n    stopListenRingbackTone();\n  });\n}\n\n(async() => {\n  await app.initialize();\n  const context = app.getContext();\n  const lang = context.app.locale;\n  url = context.app.extra.baseUrl;\n\n  addOptionMenu(options, \"ring-internal\");\n  addOptionMenu(options, \"ring-external\");\n  addEventsListener();\n\n  app.sendMessageToBackground({value: 'config'});\n\n  await i18next.init({\n    lng: lang,\n    fallbackLng: 'en',\n    debug: false,\n    resources: {\n      en: {\n        translation: {\n          \"ring_internal\": \"Internal calls ringtone\",\n          \"ring_external\": \"External calls ringtone\"\n        }\n      },\n      fr: {\n        translation: {\n          \"ring_internal\": \"Sonnerie appels internes\",\n          \"ring_external\": \"Sonnerie appels externes\"\n        }\n      }\n    }\n  });\n\n  document.getElementById('label-internal').innerHTML = i18next.t('ring_internal');\n  document.getElementById('label-external').innerHTML = i18next.t('ring_external');\n})();\n"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","arguments","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","d","a","definition","o","g","globalThis","e","window","obj","prop","hasOwnProperty","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","test","replace","p","EVENT_APP_INITIALIZE","EVENT_MOBILE_ON_MENU_ACTION","App","constructor","onNewSession","session","onUnLoaded","onPluginUnLoaded","onAppUnLoaded","tabId","onIframeMessage","onBackgroundMessage","onLogout","onCallIncoming","onCallMade","onCallAnswered","onCallAccepted","onCallHungUp","onUnHandledEvent","event","onWebsocketMessage","onMeetingCreated","meeting","onRouteChanged","action","onUserJoinRoom","room","onUserLeaveRoom","onParticipantJoinRoom","participant","onParticipantLeaveRoom","onConnectedToStack","stackSession","onSwitchTenant","uuid","initialize","async","isInitialized","_onMessage","_sendMessage","bg","_isBackground","pluginId","_pluginId","_initializeTimeout","setTimeout","_initializeResolve","_initializeCompleted","getContext","sendMessageToIframe","payload","sendMessageToBackground","startCall","targets","requestedModalities","openLink","url","createMeeting","requireAuthorization","persistent","openMeetingLobby","extension","openSettings","closeLeftPanel","openLeftPanel","playProgressSound","playNewMessageSound","playIncomingCallSound","playDoubleCallSound","playHangupSound","stopCurrentSound","configureSounds","sounds","resetSounds","changeNavBarColor","color","resetNavBarColor","displayNotification","title","text","displayModal","htmlText","height","width","hideCloseButton","removeModal","hasLocalVideoStream","Wazo","Phone","phone","hasALocalVideoTrack","getLocalCurrentVideoStream","getLocalVideoStream","hasRemoveVideoStream","hasRemoteVideo","getRemoteVideoStream","updateBadge","entityId","_entityId","displayBanner","closeBanner","changeToolbarDisplay","display","setMobileHeader","callback","id","_headerBackCallbacks","headerTitle","emitHeaderBack","setMobileContextualMenu","contextualMenu","setMobileShowBottomNav","showBottomNav","onMobileMenuAction","data","_onLoaded","theme","locale","extra","_unloadPlugin","tenant","ReactNativeWebView","postMessage","JSON","stringify","parent","_queuedMessages","_sendQueuedMessages","forEach","clearTimeout","app","host","clientType","baseUrl","_baseUrl","user","_setPluginId","_resetEvents","_configurePlugin","configuration","onunload","parse","_","ignoreCall","BRIDGE_CONFIG_RETRIEVED","Softphone","super","iframeCss","left","bottom","displayed","wrapper","iframe","iframeLoaded","_pendingMessages","onLinkEnabled","link","onIFrameLoaded","onCallLocallyAnswered","onCallEstablished","onOutgoingCallMade","onCallRejected","onCallEnded","card","direction","fromExtension","onCardSaved","onCardCanceled","onAuthenticated","onLoggedOut","onSearchOptions","fieldId","query","onOptionsResults","onDisplayLinkedOption","optionId","onWazoContactSearch","onAgentLoggedIn","onAgentLoggedOut","onAgentPaused","onAgentResumed","onLanguageChanged","language","onCallHeld","onCallResumed","onCallMuted","onCallUnMuted","onDtmfSent","tone","onDirectTransfer","number","onCreateIndirectTransfer","onCancelIndirectTransfer","onConfirmIndirectTransfer","onIndirectCallMade","onIndirectTransferDone","onStartRecording","onStopRecording","onCallLogCreated","callLog","server","port","wrapUpDuration","enableAgent","tenantId","domainName","debug","disableAutoLogin","config","_createIframe","parseLinks","_getLinks","setAttribute","_onLinkClick","removeParsedLinksEvent","querySelectorAll","removeAttribute","makeCall","show","toggleDisplay","hide","style","remove","optionsFetched","options","setFormSchema","schema","uiSchema","setCardValue","field","injectCss","css","customizeAppearance","themes","translations","assets","loginWithToken","token","refreshToken","configureServer","updateCss","cb","createElement","allow","border","backgroundColor","onload","appendChild","body","filter","href","indexOf","preventDefault","split","_onAuthenticated","callSession","content","userExtension","linkedOptionId","contentWindow","isString","defer","res","rej","promise","makeString","object","lastOfPathSeparatorRegExp","cleanKey","canNotTraverseDeeper","getLastOfPath","path","Empty","stack","stackIndex","k","setPath","newValue","last","getPath","deepExtend","source","overwrite","regexEscape","str","_entityMap","s","chars","looksLikeObjectPathRegExpCache","capacity","regExpMap","Map","regExpQueue","getRegExp","pattern","regExpFromCache","regExpNew","RegExp","delete","deepFind","keySeparator","tokens","current","next","nextPath","j","getCleanedCode","code","consoleLogger","log","output","Logger","concreteLogger","prefix","logger","_len","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","moduleName","clone","baseLogger","observers","numListeners","from","entries","_ref","observer","numTimesAdded","_ref2","ResourceStore","ns","defaultNS","ignoreJSONStructure","addNamespaces","removeNamespaces","splice","getResource","lng","isArray","result","join","addResource","silent","addResources","resources","addResourceBundle","deep","skipCopy","pack","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage","hasLanguageSomeTranslations","find","v","toJSON","postProcessor","processors","addPostProcessor","handle","translator","processor","process","checkedLoadedFor","shouldHandleAsObject","Translator","services","t","changeLanguage","exists","interpolation","resolved","extractFromKey","nsSeparator","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","possibleChars","c","r","map","matched","ki","substring","looksLikeObjectPath","match","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","returnDetails","namespace","appendNamespaceToCIMode","toLowerCase","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","needsPluralHandling","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","needsZeroSuffixLookup","defaultValue","pluralSeparator","resForObjHndl","resType","toString","extendTranslation","usedDefault","isValidLookup","resForMissing","missingKeyNoValueFallbackToKey","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","l","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","suffixes","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","_this","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nest","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","contextSeparator","possibleKey","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","formattedCode","Intl","getCanonicalLocales","lowerCaseLng","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","suffixesOrder","zero","one","two","few","many","other","dummyRule","select","resolvedOptions","pluralCategories","PluralResolver","pluralRulesCache","addRule","rules","clearCache","getRule","cleanedCode","cacheKey","rule","PluralRules","lngPart","needsPlural","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","deepFindWithDefaults","defaultData","getPathWithDefaults","regexSafe","val","Interpolator","format","escapeValue","escape","escape$1","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","getOrResetRegExp","existingRegExp","lastIndex","regexp","regexpUnescape","replaces","handleFormat","interpolationkey","trim","f","missingInterpolationHandler","regex","safeValue","todo","exec","matchedVar","temp","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","reduce","createCachedFormatter","fn","cache","optForCache","formatParams","formatter","Formatter","formats","opt","NumberFormat","currency","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","ListFormat","add","addCached","findIndex","mem","formatName","formatOptions","formatStr","optStr","rest","trimmedKey","parseInt","parseFormatStr","formatted","valOptions","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","queue","queueLoad","languages","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","pendingCount","loaded","errors","q","pushPath","removePending","done","loadedKeys","read","fcName","tried","wait","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","opts","initAsync","preload","simplifyPluralSuffix","partialBundledLanguages","tDescription","transformOptions","initImmediate","noop","I18n","inst","modules","external","isClone","isInitializing","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","_len5","_key5","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","createInstance","cloneInstance","forkResourceStore","mergedOptions","clonedData","prev","acc","_len6","_key6","instance","audio","ringInternalElem","getElementById","playButtonInternal","stopButtonInternal","ringExternalElem","playButtonExternal","stopButtonExternal","msg","ringInternal","ring","ringExternal","addOptionMenu","idMenu","menu","newOption","listenRingbackTone","Audio","play","stopListenRingbackTone","pause","lang","en","translation","fr","innerHTML"],"sourceRoot":""}